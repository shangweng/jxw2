"use strict";!function(s){var i=location.search.substring(1).split("=")[1],l=s("#smallpic"),c=s("#bpic"),e=s(".loadtitle"),n=s(".loadpcp"),i=i||1;s.ajax({url:"http://10.31.162.68/hdf_jxwproject/php/getsid.php",data:{sid:i},dataType:"json"}).done(function(i){console.log(i),l.attr("src",i.goods_big_logo),l.attr("sid",i.goods_id),c.attr("src",i.goods_big_logo),e.html(i.goods_name),n.html(i.goods_price),console.log(i.piclisturl.split(","));var t=i.piclisturl.split(","),o="";s.each(t,function(i,t){o+='<li><img src="'+t+'"/>></li>'}),s("#list ul").html(o)});var r=s("#spic"),h=s("#sf"),t=s("#bf"),o=s("#left"),a=s("#right");s("#list");h.width(r.width()*t.width()/c.width()),h.height(r.height()*t.height()/c.height());var d=c.width()/r.width();r.hover(function(){h.css("visibility","visible"),t.css("visibility","visible"),s(this).on("mousemove",function(i){var t=i.pageX-s(".goodsinfo").offset().left-h.width()/2,o=i.pageY-s(".goodsinfo").offset().top-h.height()/2;t<0?t=0:t>=r.width()-h.width()&&(t=r.width()-h.width()),o<0?o=0:o>=r.height()-h.height()&&(o=r.height()-h.height()),h.css({left:t,top:o}),c.css({left:-t*d,top:-o*d})})},function(){h.css("visibility","hidden"),t.css("visibility","hidden")}),s("#list ul").on("click","li",function(){var i=s(this).find("img").attr("src");l.attr("src",i),c.attr("src",i)});var p=6;a.on("click",function(){var i=s("#list ul li");i.size()>p&&(p++,o.css("color","#333"),i.size()==p&&a.css("color","#fff"),s("#list ul").animate({left:-(p-6)*i.eq(0).outerWidth(!0)}))}),o.on("click",function(){var i=s("#list ul li");6<p&&(p--,a.css("color","#333"),p<=6&&o.css("color","#fff"),s("#list ul").animate({left:-(p-6)*i.eq(0).outerWidth(!0)}))});var f=[],u=[];s(".p-btn a").on("click",function(){var i,t=s(this).parents(".goodsinfo").find("#smallpic").attr("sid");u=s.cookie("cookiesid")&&s.cookie("cookienum")?(f=s.cookie("cookiesid").split(","),s.cookie("cookienum").split(",")):(f=[],[]),-1!=s.inArray(t,f)?(i=parseInt(u[s.inArray(t,f)])+parseInt(s("#count").val()),u[s.inArray(t,f)]=i):(f.push(t),s.cookie("cookiesid",f,{expires:10,path:"/"}),u.push(s("#count").val())),s.cookie("cookienum",u,{expires:10,path:"/"}),alert("加入购物车")})}(jQuery);