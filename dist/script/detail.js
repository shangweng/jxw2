"use strict";!function(c){var l=location.search.substring(1).split("=")[1],n=c("#smallpic"),a=c("#bpic"),h=c(".loadtitle"),r=c(".loadpcp");c.ajax({url:"http://10.31.162.68/hdf_jxwproject/php/getsid.php",data:{goods_id:l},dataType:"json"}).done(function(i){n.attr("src",i.goods_big_logo),n.attr("goods_id",i.goods_id),a.attr("src",i.goods_big_logo),h.html(i.goods_name),r.html(i.goods_price);var t=i.goods_small_logo.split(","),o="";c.each(t,function(i,t){o+='<li><img src="'+t+'"/>></li>'}),c("#list ul").html(o);var s=[],e=[];c(".p-btn a").on("click",function(){console.log(1);var i;c(this).parents(".goodsinfo").find("#smallpic").attr("goods_id");e=c.cookie("cookiesid")&&c.cookie("cookienum")?(s=c.cookie("cookiesid").split(","),c.cookie("cookienum").split(",")):(s=[],[]),-1!=c.inArray(l,s)?(i=parseInt(e[c.inArray(l,s)])+parseInt(c("#count").val()),e[c.inArray(l,s)]=i):(s.push(l),c.cookie("cookiesid",s,{expires:10,path:"/"}),e.push(c("#count").val())),c.cookie("cookienum",e,{expires:10,path:"/"}),alert("加入购物车")})});var s=c("#spic"),e=c("#sf"),i=c("#bf"),t=c("#left"),o=c("#right");c("#list");e.width(s.width()*i.width()/a.width()),e.height(s.height()*i.height()/a.height());var d=a.width()/s.width();s.hover(function(){e.css("visibility","visible"),i.css("visibility","visible"),c(this).on("mousemove",function(i){var t=i.pageX-c(".goodsinfo").offset().left-e.width()/2,o=i.pageY-c(".goodsinfo").offset().top-e.height()/2;t<0?t=0:t>=s.width()-e.width()&&(t=s.width()-e.width()),o<0?o=0:o>=s.height()-e.height()&&(o=s.height()-e.height()),e.css({left:t,top:o}),a.css({left:-t*d,top:-o*d})})},function(){e.css("visibility","hidden"),i.css("visibility","hidden")}),c("#list ul").on("click","li",function(){var i=c(this).find("img").attr("src");n.attr("src",i),a.attr("src",i)});var f=6;o.on("click",function(){var i=c("#list ul li");i.size()>f&&(f++,t.css("color","#333"),i.size()==f&&o.css("color","#fff"),c("#list ul").animate({left:-(f-6)*i.eq(0).outerWidth(!0)}))}),t.on("click",function(){var i=c("#list ul li");6<f&&(f--,o.css("color","#333"),f<=6&&t.css("color","#fff"),c("#list ul").animate({left:-(f-6)*i.eq(0).outerWidth(!0)}))})}(jQuery);